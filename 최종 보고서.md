### 발표 희망합니다.
## 쓰레기 수거 최적화를 통한 도시 환경 개선 연구: 서울특별시 관악구를 중심으로

### 1. 프로젝트 소개

#### 1.1. 연구 배경 및 필요성
도시화와 인구 집중으로 인해 생활 폐기물 발생량은 지속적으로 증가하고 있으며, 이는 심각한 환경 문제와 사회적 비용을 야기합니다. 특히 서울특별시와 같은 대도시는 매일 엄청난 양의 폐기물을 처리해야 하는 부담을 안고 있습니다. 현재 대부분의 쓰레기 수거 시스템은 정해진 수거일과 고정된 위치를 기반으로 운영되지만, 실제 쓰레기 발생량은 지역과 시간에 따라 유동적으로 변화하여 비효율성이 발생합니다. 이는 불필요한 수거 차량 운행으로 인한 연료 소비 증가, 대기오염 유발로 이어집니다. 따라서 데이터 기반의 쓰레기통 위치 최적화 및 수거 경로 효율화는 도시 환경 개선과 자원 절약을 위해 매우 중요한 과제입니다. 본 프로젝트는 이러한 문제의식에서 출발하여, 데이터 접근성과 문제의 심각성, 그리고 시민 관심도가 높은 **서울특별시 관악구**를 대상 지역으로 선정했습니다.

#### 1.2. 연구 목표 및 범위
본 연구의 주요 목표는 다음과 같습니다.
* **쓰레기통 위치 최적화 방안 제시:** 관악구 유동인구, 기존 쓰레기통 분포를 고려하여 쓰레기 발생이 예상되는 지역에 대한 쓰레기통 최적 배치안을 제안합니다.
* **쓰레기 수거 경로 최적화:** 최적화된 쓰레기통 위치를 기반으로, 수거 차량의 이동 거리를 최소화하고 수거 효율을 높일 수 있는 경로 최적화를 제안합니다.
* **방법론:** 파이썬(Python) 기반의 데이터 분석 라이브러리(Pandas, Matplotlib 등)와 머신러닝 라이브러리(Scikit-learn 등)를 구글 코랩 환경에서 활용합니다. 쓰레기통 위치 선정에는 K-평균 클러스터 기법을 적용하고, 경로 최적화는 차량 경로 문제(VRP)의 기본 개념을 활용합니다.

#### 1.3. 역할 분담
조현준: 데이터셋 탐색(서울시 관악구 가로휴지통 현황, OpenStreetMap 도로망 데이터), 전처리, 모델 제작, ppt 및 대본 작성 

유명석: 데이터셋 탐색(서울시 상권분석서비스(영역-상권),서울시 상권분석서비스(길단위인구-상권)), ppt 및 대본 작성

### 2. 주제 관련 이론적 배경

#### 2.1. 도시 폐기물 문제와 현행 수거 시스템
도시의 생활 폐기물은 주로 가정, 상업 시설, 공공장소 등에서 발생하며, 그 양과 종류는 도시의 규모, 인구 밀도, 생활 수준, 계절 등 다양한 요인에 의해 영향을 받습니다. 폐기물 관리의 비효율은 환경오염(토양, 수질, 대기), 악취, 도시 미관 훼손, 공중 보건 문제뿐만 아니라 과도한 처리 비용과 자원 낭비를 초래합니다.
현행 쓰레기 수거 시스템은 대부분 정해진 요일과 시간에 고정된 경로를 따라 쓰레기를 수거하는 방식으로 운영됩니다. 이러한 방식은 예측 가능하고 관리가 용이하다는 장점이 있지만, 쓰레기 발생량의 시공간적 변화에 유연하게 대응하기 어렵다는 단점이 있습니다. 이로 인해 일부 지역에서는 쓰레기통이 넘치고, 다른 지역에서는 불필요한 수거가 반복되는 비효율이 발생합니다.

#### 2.2. 쓰레기통 위치 최적화
쓰레기통 위치 최적화는 시민들의 편의성을 높이고 무단 투기를 줄이며, 수거 효율성을 향상시키는 데 중요한 역할을 합니다. 최적의 쓰레기통 위치는 유동인구가 많은 곳, 쓰레기 발생이 잦은 곳, 접근성이 좋은 곳 등을 종합적으로 고려해야 합니다.

#### 2.3. 수거 경로 최적화
* **차량 경로 문제 (Vehicle Routing Problem, VRP):**
물류 및 운송 분야의 고전적인 최적화 문제. 하나 또는 여러 대의 차량이 차고지에서 출발하여 여러 고객(방문 지점)을 모두 방문하고 다시 돌아오는 가장 짧거나 비용이 적은 경로를 찾는 문제입니다. 이 프로젝트에서는 1대의 차량이 모든 지점을 방문하는 것을 기준으로 계산했습니다. 복잡한 경로 문제를 풀 때 기준선(Baseline)을 만들기 위한 일반적인 접근 방식으로 진행했습니다. 향후 다수 차량 경로 최적화(Multi-Vehicle Routing) 모델로 발전시킬 수 있습니다.

#### 2.4. 기타 용어들
- 지오코딩 (Geocoding):
'서울특별시 관악구 신림로 340'과 같은 텍스트 주소를 위도, 경도(예: 37.484, 126.929)와 같은 디지털 좌표 값으로 변환하는 과정입니다. 주소로만 제공된 기존 쓰레기통의 위치를 지도에 표시하고, 거리 계산이 가능한 데이터로 만들기 위해 사용되었습니다.
- WGS84 경위도 좌표계: GPS에서 사용하는 세계적인 표준 좌표계로, 지구 중심을 기준으로 경도(가로)와 위도(세로)를 사용하여 지상의 위치를 나타냅니다.
- 핫스팟 (Hotspot):
특정 현상이나 활동이 집중적으로 발생하는 지점을 의미합니다. 이 프로젝트에서는 유동인구가 많아 쓰레기 발생 가능성이 매우 높은 밀집 구역을 지칭하는 용어로 사용되었습니다. K-평균 클러스터링은 이러한 핫스팟을 찾아내는 역할을 합니다.
- 핵심 도로망 (Strongly Connected Component):
그래프 이론의 용어로, 네트워크 내에서 모든 노드(교차로)가 서로에게 왕복하여 도달할 수 있는 가장 큰 하위 그룹을 의미합니다. 관악구의 전체 도로망 데이터에서 일방통행 함정이나 고립된 도로를 제거하고, 실제로 차량 운행이 완벽하게 보장되는 핵심 도로망만을 추출하여 경로 분석의 정확성과 현실성을 높이는 데 사용되었습니다.
-엘보우 방법
K-평균 클러스터링에서 최적의 군집 개수(K)를 찾기 위해 사용되는 시각적 방법. K값을 늘려가며 군집 내 거리의 총합 변화를 그래프로 그렸을 때, 사람의 팔꿈치처럼 그래프가 급격히 꺾이는 지점을 최적의 K로 선택합니다.
- OSMnx 라이브러리: OSMnx라는 라이브러리를 사용해, 전 세계의 실제 도로 정보가 담긴 OpenStreetMap에서 관악구의 모든 차량용 도로(일방통행, 골목길 포함) 정보를 직접 다운로드했습니다.
- networkx 라이브러리:  두 지점 사이의 직선거리를 재는 것이 아니라, 다운로드한 실제 도로망(G)을 따라서, 차량이 갈 수 있는 가장 짧은 주행 경로의 길이(length)를 계산합니다.

### 3. 연구 설계 (관악구 대상)

#### 3.1. 데이터셋 소개
다음과 같은 유형의 공개 데이터를 활용할 예정입니다. 

* **서울시 상권분석서비스(영역-상권):**
    * **상권영역 정보:** 서울시 상권분석 서비스에서 사용중인 상권영역 정보입니다. 쓰레기 발생 수요 지점의 위치를 파악하는 데 사용합니다. (https://data.seoul.go.kr/dataList/OA-15560/S/1/datasetView.do)
* **서울시 상권분석서비스(길단위인구-상권):**
    * **생활인구 정보:** 서울시 상권 영역 내의 생활인구 정보를 제공합니다. 쓰레기 발생 잠재량을 측정하는 핵심 지표로 사용합니다. (https://data.seoul.go.kr/dataList/OA-15568/S/1/datasetView.do)
* **서울시 관악구 가로휴지통 현황:**
    * **가로휴지통 설치 현황:** 현재 인프라 현황 파악 및 통합 경로 최적화 대상입니다. (https://www.gimi9.com/dataset/www-data-go-kr-data-filedata-15087371/)
* **OpenStreetMap 도로망 데이터:**
    * 관악구 내 실제 차량 운행 도로 네트워크를 제공합니다. 지점 간 실제 이동 거리를 계산하고, VRP 모델의 기초 자료로 활용합니다. (https://osm.kr/)
 (https://www.data.go.kr/data/15062768/fileData.do)


#### 3.2. 데이터 전처리 과정 (Colab 환경)

1.  **데이터 불러오기:**
    * CSV 등 다양한 형태의 데이터 파일을 `pd.read_csv()` 등의 함수를 사용하여 Pandas DataFrame 형태로 불러옵니다.
2.  **데이터 탐색 및 정제:**
    * `df.head()`, `df.shape()` 등을 사용하여 데이터의 기본적인 구조와 통계치를 확인합니다.
    * **결측치 처리:** `df.isnull().sum()`으로 결측치를 확인하고, 결측치의 특성에 따라 해당 행이나 열을 제거(`df.dropna()`)합니다.
    * **지오코딩 (Geocoding): 주소를 좌표로 변환** '가로휴지통 현황' 데이터의 텍스트 주소(예: '신림역 1번출구 앞')를 geopy 라이브러리를 사용해 위도, 경도 좌표로 변환했습니다. 초기 지오코딩 성공률이 매우 낮아, 'OO아파트 앞', 'OO 부근' 등 기계가 인식하기 어려운 비표준 표현을 제거하고 도로명과 건물번호 중심의 표준 주소로 정제하는 주소 정제 로직을 구현하여 성공률을 78개 중 74개(95%)까지 크게 향상시켰습니다.
    * **좌표계 변환: 서로 다른 기준 통일:** '상권분석서비스' 데이터에서 제공하는 TM 좌표계(EPSG:5181)를 국제 표준인 WGS84 경위도 좌표계(EPSG:4326)로 변환했습니다. 이 과정에는 pyproj 라이브러리가 사용되었으며, 이를 통해 모든 공간 데이터를 동일한 기준 위에서 분석할 수 있게 되었습니다.
3.  **데이터 통합 및 집계: 정보의 결합과 정제:** 상권 위치 데이터와 유동인구 데이터를 '상권 코드'를 기준으로 통합했습니다. 유동인구 데이터가 분기별로 중복되어 있었기 때문에, 각 상권의 위치별로 평균 유동인구를 계산하여 하나의 상권이 하나의 데이터 포인트를 갖도록 데이터를 집계했습니다. 

#### 3.3. 모델 구조 


1.  **쓰레기통 위치 분석, K-평균 클러스터링:**
    * **목표:** 유동인구가 많으면서 지리적으로 밀집된 쓰레기 수요 '핫스팟'을 자동으로 찾아내고, 각 핫스팟의 중심점을 신규 쓰레기통 설치 위치로 제안합니다.
    * **입력 데이터:** 위도, 경도, 그리고 쓰레기 발생량과 가장 관련이 깊은 평균 유동인구 수를 핵심 특성으로 사용했습니다. 유동인구의 중요도를 높이기 위해 가중치를 부여한 후, 모든 특성의 단위를 통일하기 위해 StandardScaler로 표준화했습니다.
    * **최적 군집 수(k) 결정:** 엘보우 방법(Elbow Method)을 통해 k값이 증가함에 따른 군집 내 거리 총합(Inertia)의 변화를 시각화하고, 그래프가 가장 급격하게 꺾이는 지점인 k=5를 최적의 군집 수로 결정했습니다.
    * 
    * **모델 학습, 중심점 계산:** 결정된 k=5로 K-평균 모델을 학습시켜 74개의 상권을 5개의 그룹으로 군집화하고, 각 그룹의 수학적 무게중심(Centroid)을 계산하여 최종 추천 위치 5곳을 도출했습니다.
    
2.  **차량 경로 문제(VRP), 최적 수거 경로 탐색 모델:**
    * **목표:** 차고지에서 출발하여 모든 쓰레기통(신규 5곳 + 기존 74곳)을 가장 짧은 거리로 방문하고 다시 차고지로 돌아오는 최적의 경로를 찾습니다. OSMnx를 사용하여 실제 도로망 데이터를 추출하고, 구글의 최적화 도구인 ortools를 사용하여 VRP 문제를 해결했습니다.
    * **처리 과정:**
- 도로망 정제: 관악구의 도로 데이터에는 일부 고립되거나 일방통행으로 인해 왕복이 불가능한 도로가 존재했습니다. 이로 인한 경로 계산 오류를 방지하기 위해, 모든 지점이 서로 연결된 **가장 큰 핵심 도로망(Strongly Connected Component)**만을 추출하여 분석의 현실성을 높였습니다.
- 거리 행렬 생성: 정제된 도로망 위에서 차고지, 신규/기존 쓰레기통 위치 간의 실제 주행 거리를 계산하여 모든 지점 간의 '거리 행렬'을 만들었습니다.
- 경로 최적화: ortools에 거리 행렬과 방문 지점 정보를 입력하여, 총 이동 거리를 최소화하는 최적의 방문 순서를 계산했습니다.

### 4. 참고 연구(종로구 쓰레기통 최적 입지 선정) 분석 및 본 프로젝트의 개선점

#### 4.1. 참고 연구 요약 

* **연구 목적:** 종로구 길거리 쓰레기통 184개에 대한 최적 입지를 재선정하고, 이를 기준으로 관리 구역을 재분류하여 시민 불만 감소 및 수거 효율성 증대를 목표로 함.
* **사용 데이터:**
    * 초기 후보지 선정: 종로구 내 버스정류장, 지하철역 입구, 공원 위치 데이터 (총 471개소)
    * 최적 입지 선정 시 고려 요인: SKT 빅데이터 허브 및 서울시 빅데이터 캠퍼스의 50m 단위 SKT 유동인구 데이터, 블록당 추정매출액 데이터, 환경미화원 수 등.
* **적용 방법론:**
    * **Set-covering:** 초기 후보지 471개 중 100m 이내 중복 후보지를 제거하여 346개 후보지 선정.
    * **p-RD (p-Reverse Delete) Algorithm:** 346개 후보지에서 유동인구, 상권 매출, 환경미화원 수를 고려한 '가치 변수'를 계산하고, 이를 기반으로 가치가 낮은 후보지를 순차적으로 제거하여 최종 184개 최적 입지 선정.
    * **K-Means Clustering:** 선정된 184개 최적 입지를 대상으로 k=6 (기존 관리 구역 수)으로 설정하여 새로운 관리 구역 6개로 재분류.
* **주요 결과:**
    * 새롭게 선정된 184개의 쓰레기통 입지가 기존보다 유동인구 및 상권 매출 커버리지가 높음을 제시.
    * K-Means로 재분류된 6개 관리 구역의 경우, TSP를 이용한 총 수거 경로 거리가 기존 대비 약 200km 단축되어 수거 효율성이 크게 향상됨을 보임.

#### 4.2. 본 프로젝트의 차별성 및 개선 방향

- "관악구 쓰레기 수거 최적화" 프로젝트는 참고 래퍼런스와 달리 쓰레기 수거 차량의 수거 경로를 고려함으로써 차별성을 제시합니다. VRP 개념을 바탕으로 간단한 시나리오 기반의 경로 효율화를 진행합니다.
- 참고 래퍼런스에서는 단순히 위치를 그룹으로 묶는 마지막 단계의 '정리' 용도로 사용한 반면, 이 프로젝트에서는 K-평균 클러스터링을 가장 먼저 사용하여 유동인구가 많은 '핫스팟'과 그 '무게중심'을 직접 찾아내도록 했습니다. 이는 더 직관적이고 현대적인 머신러닝 접근 방식입니다.

### 5. 프로젝트 수행 결과

본 프로젝트는 서울특별시 관악구를 대상으로 쓰레기 수거 최적화 방안을 모색했습니다.

#### 데이터 분석 및 시각화 결과

* **신규 쓰레기통 최적 위치 5곳 제안:**
    * K-평균 클러스터링 분석을 통해 관악구 내 쓰레기 발생이 가장 집중될 것으로 예상되는 5개의 핵심 구역과 그 중심점을 성공적으로 도출했습니다. 이 위치들은 쓰레기통의 서비스 효율을 극대화할 수 있는 전략적 지점입니다.
* **통합 수거 경로 최적화:**
    * 신규 추천 위치 5곳과 기존 쓰레기통 74곳을 모두 방문하는 최적의 수거 경로는 총 30.73km로 계산되었습니다. 이는 데이터 기반으로 도출된 가장 효율적인 단일 차량 수거 경로이며, 이를 통해 불필요한 운행을 줄여 유류비와 시간을 절약하고 탄소 배출을 저감하는 데 기여할 수 있습니다.

![image](https://github.com/user-attachments/assets/24eaafa2-72bb-425a-8337-1d55d58cd7e2)


### 6. 결론 및 제언

#### 6.1. 연구 요약 및 시사점
본 연구는 서울특별시 관악구를 대상으로 증가하는 도시 생활 폐기물 문제에 대응하기 위해, 머신러닝과 데이터 분석을 활용한 쓰레기 수거 시스템 최적화 방안을 제시합니다.

주요 시사점은 다음과 같습니다.
1.  **머신러닝의 활용 가능성:** K-평균 클러스터링과 같은 비교적 간단한 머신러닝 기법도 쓰레기통 설치 필요 지역 군집화 등 복잡한 공간 문제에 대한 초기 분석 도구로 유용하게 활용될 수 있음을 확인했습니다. 이는 향후 더 정교한 데이터와 알고리즘을 통해 실제 최적화에 기여할 수 있는 가능성을 보여줍니다.
2.  **데이터 확보의 현실적 어려움 인지:** 관악구의 구체적인 폐기물 총량, 재활용률, 처리 예산 등 핵심적인 통계 데이터 확보에 어려움이 있었습니다. 이는 향후 유사 연구나 실제 정책 추진 시, 관련 기관과의 협력을 통한 정확하고 상세한 데이터 확보가 선행되어야 함을 의미합니다.

#### 6.2. 추후 발전 방향

1.  **데이터의 질과 양 확대:**
    * **실시간 데이터 활용:** IoT 센서가 부착된 스마트 쓰레기통 데이터를 활용하여 쓰레기통별 채움 상태, 수거 빈도 등을 실시간으로 파악하고, 이를 예측 모델 및 동적 경로 최적화에 반영합니다.
    * **시민 제보 데이터 활용:** 쓰레기 무단 투기 지역, 쓰레기통 넘침 민원 등의 데이터를 수집하여 문제 지역 식별 및 우선순위 결정에 활용합니다.
2.  **다수 차량 경로 최적화(Multi-Vehicle Routing):** 각 쓰레기통의 용량과 수거 차량의 적재 용량을 고려하여, 차량이 가득 차면 중간에 처리 시설을 방문하도록 경로를 수정할 수 있습니다.
   또, 교통 혼잡이 심한 출퇴근 시간을 피하거나, 특정 상업 지역의 영업시간을 고려하는 등 시간 제약을 추가하여 모델을 고도화할 수 있습니다.
    * **MVR:** 현재 관악구는 7개의 민간 업체가 구역을 나누어 수거를 담당하고 있습니다. 향후에는 단일 차량이 아닌, 여러 대의 차량이 각자의 구역을 가장 효율적으로 담당하도록 경로를 할당하는 다차량 VRP 모델로 확장할 수 있습니다.
